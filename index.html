<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Title tester (124px / max 2 lines)</title>
    <link rel="stylesheet" href="css/style.css" />
</head>
<body>

<h1>Title tester (124px / max 2 lines)</h1>

<p>
    Type your translation directly in the preview tile below.
    It uses <strong>Roboto 15px / line-height 20px</strong>
    and fixed width <strong>124 px</strong>.<br />
    If the text overflows to a 3rd line, please shorten it.
</p>

<div id="preview" contenteditable="true" class="preview"></div>

<div class="status" id="status">Waiting…</div>

<div class="metrics" id="metrics">Characters: 0 · Estimated lines: 1</div>

<h2>Guidelines</h2>
<ul>
    <li>Maximum <strong>2 lines</strong> inside 124 px width.</li>
    <li>Prefer <strong>up to 3 short words</strong>.</li>
    <li>Avoid very long compound words.</li>
    <li>If it doesn't fit: use a <strong>shorter alternative</strong>.</li>
</ul>

<script>
const preview = document.getElementById("preview");
const status = document.getElementById("status");
const metrics = document.getElementById("metrics");

// Update evaluation
function update() {

    // Wait for browser to render new text to measure height
    requestAnimationFrame(() => {
        const lineHeight = parseFloat(getComputedStyle(preview).lineHeight);
        const height = preview.scrollHeight;
        const lines = Math.round(height / lineHeight);

        if (lines <= 2) {
            status.className = 'status ok';
            status.textContent = '✔ Fits in 2 lines';
        } else {
            status.className = 'status warn';
            status.textContent = `✘ Too long (${lines} lines) — please shorten`;
        }

        metrics.textContent = `Characters: ${preview.innerText.trim().length} · Estimated lines: ${lines}`;
    });
}

// Listen for edits
preview.addEventListener('input', update);

// Initial content to make the tile visible
preview.textContent = "Type here…";
update();
</script>

</body>
</html>
